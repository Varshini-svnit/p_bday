<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Pallavi!</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@500;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        /* Base Styles */
        body {
            margin: 0;
            padding: 0;
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #e2b0ff 0%, #9f6bff 50%, #ff8e9e 100%);
            color: #fff;
            overflow-x: hidden;
            position: relative;
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="%23b388ff" d="M12,2L15.09,8.26L22,9.27L17,14.14L18.18,21.02L12,17.77L5.82,21.02L7,14.14L2,9.27L8.91,8.26L12,2Z"/></svg>'), auto;
        }

        /* Magic Sparkles */
        .magic-sparkle {
            position: absolute;
            width: 24px;
            height: 24px;
            background-size: contain;
            background-repeat: no-repeat;
            pointer-events: none;
            opacity: 0;
            z-index: 100;
            filter: drop-shadow(0 0 8px white);
        }

        .star-sparkle {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="white" d="M12,2L15.09,8.26L22,9.27L17,14.14L18.18,21.02L12,17.77L5.82,21.02L7,14.14L2,9.27L8.91,8.26L12,2Z"/></svg>');
            animation: starSparkle 1.5s ease-out forwards;
        }

        .comet-sparkle {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="white" d="M18,9.79L9.79,18L6,14.21L14.21,6M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2Z"/></svg>');
            animation: cometSparkle 2s ease-out forwards;
            width: 32px;
            height: 32px;
        }

        /* Header Styles */
        .header {
            text-align: center;
            padding: 3rem 0;
            position: relative;
            overflow: hidden;
            background: linear-gradient(135deg, rgba(178, 136, 255, 0.8) 0%, rgba(255, 142, 158, 0.8) 100%);
            border-radius: 0 0 30px 30px;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .header h1 {
            font-family: 'Dancing Script', cursive;
            font-size: 4.5rem;
            margin: 0;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2), 0 0 20px rgba(255,255,255,0.5);
            position: relative;
            z-index: 2;
            animation: fadeInDown 1s ease-out;
        }

        .header p {
            font-size: 1.5rem;
            color: white;
            margin-top: 1rem;
            animation: fadeIn 1.5s ease-out;
        }

        /* Decorations */
        .decoration {
            position: absolute;
            z-index: 1;
        }

        .balloon {
            width: 80px;
            height: 100px;
            border-radius: 50%;
            position: absolute;
            animation: float 6s ease-in-out infinite;
        }

        .balloon:before {
            content: "";
            position: absolute;
            width: 2px;
            height: 60px;
            background: linear-gradient(to bottom, #FFD700, #FFEC80);
            bottom: -60px;
            left: 50%;
            transform: translateX(-50%);
        }

        .balloon1 {
            background-color: #b388ff;
            left: 10%;
            top: 20%;
            animation-delay: 0s;
        }

        .balloon2 {
            background-color: #e2b0ff;
            right: 15%;
            top: 30%;
            animation-delay: 1s;
        }

        .balloon3 {
            background-color: #d8a3ff;
            left: 20%;
            top: 10%;
            animation-delay: 2s;
        }

        .balloon4 {
            background-color: #e2b0ff;
            right: 25%;
            top: 25%;
            animation-delay: 3s;
        }

        .confetti {
            position: absolute;
            width: 15px;
            height: 15px;
            background-color: #f0f;
            opacity: 0.9;
            animation: confettiFall 5s linear infinite;
        }

        .flower {
            position: absolute;
            width: 50px;
            height: 50px;
            background-size: contain;
            background-repeat: no-repeat;
            animation: float 8s ease-in-out infinite;
            z-index: 1;
            filter: drop-shadow(0 0 5px rgba(255,255,255,0.7));
        }

        /* Main Content */
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem;
            position: relative;
            z-index: 2;
        }

        .section {
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(159, 107, 255, 0.2);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            animation: fadeInUp 1s ease-out;
            position: relative;
            overflow: hidden;
        }

        .section h2 {
            font-family: 'Dancing Script', cursive;
            color: #9f6bff;
            font-size: 2.8rem;
            margin-top: 0;
            text-align: center;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
        }

        /* 3D Layered Cake */
        .cake-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 400px;
            position: relative;
            margin: 2rem 0;
            perspective: 1000px;
        }

        .cake {
            position: relative;
            width: 280px;
            height: 250px;
            z-index: 2;
            transform-style: preserve-3d;
        }

        .cake-layer {
            position: absolute;
            border-radius: 15px 15px 0 0;
            left: 50%;
            transform: translateX(-50%);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transform-style: preserve-3d;
        }

        .layer1 {
            bottom: 0;
            width: 240px;
            height: 80px;
            z-index: 1;
            background: linear-gradient(to bottom, #f3a4b5, #f1a0b3);
            transform: translateX(-50%) translateZ(0px);
        }

        .layer2 {
            bottom: 80px;
            width: 200px;
            height: 70px;
            z-index: 2;
            background: linear-gradient(to bottom, #ffb6c1, #ffc0cb);
            transform: translateX(-50%) translateZ(20px);
        }

        .layer3 {
            bottom: 150px;
            width: 160px;
            height: 60px;
            z-index: 3;
            background: linear-gradient(to bottom, #fff, #f192a0);
            transform: translateX(-50%) translateZ(40px);
        }

        .cake:before {
            content: "";
            position: absolute;
            width: 260px;
            height: 40px;
            background: linear-gradient(to bottom, #e0bfb8, #f3a4b5);
            bottom: -60px;
            left: 50%;
            transform: translateX(-50%) translateZ(0px);
            border-radius: 50%;
            z-index: 1;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        /* Cake decorations */
        .cherry-dot {
            position: absolute;
            width: 12px;
            height: 12px;
            background-color: #ff0000;
            border-radius: 50%;
            z-index: 3;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .cream-swirl {
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: white;
            border-radius: 50%;
            z-index: 4;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .candle {
            position: absolute;
            width: 12px;
            height: 50px;
            background: linear-gradient(to bottom, #fff, #ffd700);
            top: -50px;
            left: 50%;
            transform: translateX(-50%) translateZ(40px);
            z-index: 4;
            border-radius: 5px 5px 0 0;
        }

        .flame {
            position: absolute;
            width: 20px;
            height: 30px;
            background: linear-gradient(to bottom, #ffef00, #ff7300);
            border-radius: 50% 50% 20% 20%;
            top: -80px;
            left: 50%;
            transform: translateX(-50%) translateZ(40px);
            z-index: 5;
            animation: flicker 0.5s infinite alternate, glow 1s infinite alternate;
            box-shadow: 0 0 30px #ff8e9e, 0 0 60px #ff6b8b;
            filter: blur(1px);
        }

        /* Mystery Gift Boxes with Game */
        .gifts-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin: 2rem 0;
        }

        .gift-box {
            width: 120px;
            height: 120px;
            background: linear-gradient(135deg, #9f6bff, #b388ff);
            border-radius: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            position: relative;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            overflow: hidden;
            transform-style: preserve-3d;
            transform: translateZ(0);
        }

        .gift-box.locked {
            filter: grayscale(80%);
            opacity: 0.7;
            cursor: not-allowed;
        }

        .gift-box:hover:not(.locked) {
            transform: translateY(-10px) translateZ(20px);
            box-shadow: 0 15px 30px rgba(159, 107, 255, 0.4);
        }

        .gift-box:before {
            content: "";
            position: absolute;
            width: 100%;
            height: 25px;
            background: rgba(255, 255, 255, 0.4);
            top: 0;
            border-radius: 15px 15px 0 0;
        }

        .gift-box:after {
            content: "🎁";
            font-size: 50px;
            transition: all 0.3s;
        }

        .gift-box.open:after {
            transform: scale(0);
        }

        .gift-content {
            position: absolute;
            width: 100%;
            height: 100%;
            display: none;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 15px;
            box-sizing: border-box;
            text-align: center;
            background: white;
            border-radius: 10px;
            z-index: 2;
        }

        .gift-box.open .gift-content {
            display: flex;
            animation: giftPop 0.5s ease-out forwards;
        }

        .game-container {
            text-align: center;
            margin: 2rem 0;
            padding: 20px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 15px;
        }

        .game-btn {
            background: linear-gradient(to right, #9f6bff, #b388ff);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1.2rem;
            margin: 10px;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .game-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
        }

        .key {
            font-size: 2rem;
            margin: 20px 0;
            display: none;
        }

        /* Highlighted question */
        .game-question {
            font-size: 1.3rem;
            color: #9f6bff;
            font-weight: bold;
            background: rgba(178, 136, 255, 0.2);
            padding: 10px 15px;
            border-radius: 10px;
            display: inline-block;
            margin: 15px 0;
            border-left: 4px solid #9f6bff;
            animation: pulse 2s infinite;
        }

        /* Photo Gallery */
        .gallery {
            display: none;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 2rem;
        }

        .gallery.active {
            display: grid;
            animation: fadeIn 1s;
        }

        .gallery-item {
            position: relative;
            overflow: hidden;
            border-radius: 15px;
            height: 200px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s;
            border: 3px solid transparent;
            background: linear-gradient(white, white) padding-box,
                        linear-gradient(135deg, #9f6bff, #b388ff, #e2b0ff) border-box;
        }

        .gallery-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(159, 107, 255, 0.3);
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }

        .gallery-item:hover img {
            transform: scale(1.1);
        }

        /* Voice message controls */
        .voice-controls {
            position: fixed;
            bottom: 20px;
            left: 20px;
            z-index: 1000;
            display: none;
        }

        .voice-btn {
            background: linear-gradient(to right, #9f6bff, #b388ff);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .voice-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
        }

        /* Surprise Button */
        .surprise-btn {
            display: block;
            margin: 0 auto;
            background: linear-gradient(to right, #9f6bff, #b388ff);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            font-family: 'Dancing Script', cursive;
        }

        .surprise-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
        }

        /* Music Player */
        .music-player {
            text-align: center;
            margin: 20px 0;
        }

        .music-btn {
            background: linear-gradient(to right, #9f6bff, #b388ff);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .music-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
        }

        /* Wish Granted Message */
        .wish-granted {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            text-align: center;
            max-width: 80%;
            opacity: 0;
            pointer-events: none;
            transition: all 0.5s;
        }

        .wish-granted.show {
            opacity: 1;
            pointer-events: auto;
        }

        .wish-granted h3 {
            font-family: 'Dancing Script', cursive;
            color: #9f6bff;
            font-size: 2.5rem;
            margin-top: 0;
        }

        .wish-granted p {
            font-size: 1.2rem;
            margin-bottom: 20px;
            color: #333;
        }

        .wish-granted .close-btn {
            background: #9f6bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .wish-granted .close-btn:hover {
            background: #b388ff;
            transform: translateY(-3px);
        }

        /* Animations */
        @keyframes starSparkle {
            0% { transform: translate(0, 0) scale(0) rotate(0deg); opacity: 0; }
            50% { transform: translate(var(--tx), var(--ty)) scale(1) rotate(180deg); opacity: 1; }
            100% { transform: translate(var(--tx), var(--ty)) scale(0) rotate(360deg); opacity: 0; }
        }

        @keyframes cometSparkle {
            0% { transform: translate(0, 0) scale(1) rotate(0deg); opacity: 0; }
            20% { opacity: 1; }
            100% { transform: translate(var(--tx), var(--ty)) scale(0.5) rotate(180deg); opacity: 0; }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        @keyframes confettiFall {
            0% { transform: translateY(-100px) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes flicker {
            0%, 100% { transform: translateX(-50%) scale(1); }
            50% { transform: translateX(-50%) scale(1.1); }
        }

        @keyframes glow {
            0%, 100% { box-shadow: 0 0 30px #ff8e9e, 0 0 60px #ff6b8b; }
            50% { box-shadow: 0 0 40px #ff8e9e, 0 0 80px #ff6b8b; }
        }

        @keyframes confetti-explosion {
            0% { transform: scale(0); opacity: 1; }
            100% { transform: scale(1); opacity: 0; }
        }

        @keyframes giftPop {
            0% { transform: scale(0); opacity: 0; }
            80% { transform: scale(1.1); }
            100% { transform: scale(1); opacity: 1; }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header h1 { font-size: 3rem; }
            .section h2 { font-size: 2rem; }
            .gift-box { width: 100px; height: 100px; }
            .cake { width: 220px; height: 200px; }
            .layer1 { width: 180px; height: 60px; }
            .layer2 { width: 150px; height: 50px; }
            .layer3 { width: 120px; height: 40px; }
            .cake:before { width: 200px; }
            .gallery { grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); }
        }
    </style>
</head>
<body>
    <!-- Confetti container at top -->
    <div id="confetti-container" style="position:fixed; top:0; left:0; width:100%; height:20px; z-index:1000;"></div>

    <!-- Voice message controls -->
    <div class="voice-controls" id="voiceControls">
        <button class="voice-btn" id="stopVoice">Stop Voice Message</button>
    </div>

    <!-- Wish Granted Message -->
    <div class="wish-granted" id="wishGranted">
        <h3>✨ Wish Granted! ✨</h3>
        <p>Dear Pallavi, may all your dreams come true this year! You deserve the world and more. Happy Birthday!</p>
        <button class="close-btn" id="closeWish">Close</button>
    </div>

    <div class="header">
        <div class="balloon balloon1"></div>
        <div class="balloon balloon2"></div>
        <div class="balloon balloon3"></div>
        <div class="balloon balloon4"></div>
        
        <!-- Flowers -->
        <div class="flower" style="left:5%; top:10%; background-image:url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path fill=\"%23b388ff\" d=\"M12,2C13.1,2 14,2.9 14,4C14,5.1 13.1,6 12,6C10.9,6 10,5.1 10,4C10,2.9 10.9,2 12,2M15.5,8C16.3,8 17,8.7 17,9.5C17,10.3 16.3,11 15.5,11C14.7,11 14,10.3 14,9.5C14,8.7 14.7,8 15.5,8M8.5,8C9.3,8 10,8.7 10,9.5C10,10.3 9.3,11 8.5,11C7.7,11 7,10.3 7,9.5C7,8.7 7.7,8 8.5,8M12,11C13.1,11 14,11.9 14,13C14,14.1 13.1,15 12,15C10.9,15 10,14.1 10,13C10,11.9 10.9,11 12,11M19,17V19H5V17C5,14.8 8.1,13 12,13C15.9,13 19,14.8 19,17Z\"/></svg>🌟</div>
        <div class="flower" style="right:8%; top:15%; background-image:url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path fill=\"%23e2b0ff\" d=\"M12,2C13.1,2 14,2.9 14,4C14,5.1 13.1,6 12,6C10.9,6 10,5.1 10,4C10,2.9 10.9,2 12,2M15.5,8C16.3,8 17,8.7 17,9.5C17,10.3 16.3,11 15.5,11C14.7,11 14,10.3 14,9.5C14,8.7 14.7,8 15.5,8M8.5,8C9.3,8 10,8.7 10,9.5C10,10.3 9.3,11 8.5,11C7.7,11 7,10.3 7,9.5C7,8.7 7.7,8 8.5,8M12,11C13.1,11 14,11.9 14,13C14,14.1 13.1,15 12,15C10.9,15 10,14.1 10,13C10,11.9 10.9,11 12,11M19,17V19H5V17C5,14.8 8.1,13 12,13C15.9,13 19,14.8 19,17Z\"/></svg>🌟</div>
        <div class="flower" style="left:15%; bottom:10%; background-image:url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path fill=\"%23d8a3ff\" d=\"M12,2C13.1,2 14,2.9 14,4C14,5.1 13.1,6 12,6C10.9,6 10,5.1 10,4C10,2.9 10.9,2 12,2M15.5,8C16.3,8 17,8.7 17,9.5C17,10.3 16.3,11 15.5,11C14.7,11 14,10.3 14,9.5C14,8.7 14.7,8 15.5,8M8.5,8C9.3,8 10,8.7 10,9.5C10,10.3 9.3,11 8.5,11C7.7,11 7,10.3 7,9.5C7,8.7 7.7,8 8.5,8M12,11C13.1,11 14,11.9 14,13C14,14.1 13.1,15 12,15C10.9,15 10,14.1 10,13C10,11.9 10.9,11 12,11M19,17V19H5V17C5,14.8 8.1,13 12,13C15.9,13 19,14.8 19,17Z\"/></svg>🌟</div>
        <div class="flower" style="right:20%; bottom:15%; background-image:url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path fill=\"%23ffffff\" d=\"M12,2C13.1,2 14,2.9 14,4C14,5.1 13.1,6 12,6C10.9,6 10,5.1 10,4C10,2.9 10.9,2 12,2M15.5,8C16.3,8 17,8.7 17,9.5C17,10.3 16.3,11 15.5,11C14.7,11 14,10.3 14,9.5C14,8.7 14.7,8 15.5,8M8.5,8C9.3,8 10,8.7 10,9.5C10,10.3 9.3,11 8.5,11C7.7,11 7,10.3 7,9.5C7,8.7 7.7,8 8.5,8M12,11C13.1,11 14,11.9 14,13C14,14.1 13.1,15 12,15C10.9,15 10,14.1 10,13C10,11.9 10.9,11 12,11M19,17V19H5V17C5,14.8 8.1,13 12,13C15.9,13 19,14.8 19,17Z\"/></svg>🌟</div>
        
        <h1>Happy Birthday Pallavi!</h1>
        <p>Wishing you a magical day filled with joy and surprises! 🎉</p>
    </div>

    <div class="container">
        <div class="section">
            <h2>Blow the Candles!</h2>
            <div class="cake-container">
                <div class="cake">
                    <div class="cake-layer layer1"></div>
                    <div class="cake-layer layer2"></div>
                    <div class="cake-layer layer3"></div>
                    
                    <!-- Cherry dots on middle layer (layer2) -->
                    <div class="cherry-dot" style="top:30px; left:20%; transform:translateX(-50%) translateZ(20px);"></div>
                    <div class="cherry-dot" style="top:30px; left:40%; transform:translateX(-50%) translateZ(20px);"></div>
                    <div class="cherry-dot" style="top:30px; left:60%; transform:translateX(-50%) translateZ(20px);"></div>
                    <div class="cherry-dot" style="top:30px; left:80%; transform:translateX(-50%) translateZ(20px);"></div>
                    <div class="cherry-dot" style="top:50px; left:30%; transform:translateX(-50%) translateZ(20px);"></div>
                    <div class="cherry-dot" style="top:50px; left:50%; transform:translateX(-50%) translateZ(20px);"></div>
                    <div class="cherry-dot" style="top:50px; left:70%; transform:translateX(-50%) translateZ(20px);"></div>
                    
                    <!-- Cream swirls on top layer -->
                    <div class="cream-swirl" style="top:20px; left:30%; transform:translateX(-50%) translateZ(40px);"></div>
                    <div class="cream-swirl" style="top:20px; left:70%; transform:translateX(-50%) translateZ(40px);"></div>
                    <div class="cream-swirl" style="top:40px; left:50%; transform:translateX(-50%) translateZ(40px);"></div>
                    
                    <!-- Candles -->
                    <div class="candle" style="left:30%;"></div>
                    <div class="flame" style="left:30%;"></div>
                    
                    <div class="candle" style="left:50%;"></div>
                    <div class="flame" style="left:50%;"></div>
                    
                    <div class="candle" style="left:70%;"></div>
                    <div class="flame" style="left:70%;"></div>
                </div>
            </div>
            <p class="wishes" style="text-align:center; color: #333;">Make a wish and blow out the candles! May all your dreams come true this year. ✨</p>
        </div>

        <div class="section">
            <h2>🎁 Mystery Gifts!</h2>
            <div class="game-container">
                <p style="color: #333;">Play this simple game to unlock your mystery gifts!</p>
                <button class="game-btn" id="startGame">Start Game</button>
                <div id="gameQuestion" class="game-question" style="display:none;"></div>
                <div class="key" id="gameKey"></div>
                <button class="game-btn" id="checkKey" style="display:none;">Get Key</button>
                <p id="gameMessage" style="color: #333;"></p>
            </div>
            <div class="gifts-container">
                <div class="gift-box locked" id="gift1">
                    <div class="gift-content">
                        <h3 style="color: #9f6bff;">Huge hug!
                               🤗
                        </h3>
                    </div>
                </div>
                <div class="gift-box locked" id="gift2">
                    <div class="gift-content">
                        <h3 style="color: #9f6bff;">lots of love!
                            ❤️
                        </h3>
                    </div>
                </div>
                <div class="gift-box locked" id="gift3">
                    <div class="gift-content">
                        <h3 style="color: #9f6bff;">Endless Happiness
                            😊
                        </h3>
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>🎶 Birthday Music</h2>
            <div class="music-player">
                <audio id="birthdaySong" loop>
                    <source src="happy-birthday-368842.mp3" type="audio/mpeg">
                </audio>
                <button class="music-btn" id="musicToggle">Play Music 🎵</button>
            </div>
        </div>

        <div class="section">
            <h2>📸 Special Memories</h2>
            <button class="surprise-btn" id="showGallery">Surprise! 🎀</button>
            <div class="gallery" id="photoGallery">
                <div class="gallery-item">
                    <img src="pallavi1.jpg" alt="Birthday Celebration">
                </div>
                <div class="gallery-item">
                    <img src="pallavi2.jpg" alt="Happy Smile">
                </div>
                <div class="gallery-item">
                    <img src="pallavi3.jpg" alt="Party Balloons">
                </div>
                <div class="gallery-item">
                    <img src="pallavi4.jpg" alt="Delicious Cake">
                </div>
                <div class="gallery-item">
                    <img src="pallavi5.jpg" alt="Friends Laughing">
                </div>
                <!-- <div class="gallery-item">
                    <img src="C:\Users\DELL\Pictures\Camera Roll\pallavi1.jpg" alt="Celebration Joy">
                </div> -->
            </div>
        </div>

        <div class="section">
            <h2>💌 Messages from Friends</h2>
            <p style="text-align: center; font-size: 1.2rem; color: #333;">Your friends have sent you some beautiful birthday wishes!</p>
            
            <div style="text-align: center; margin-top: 30px;">
                <button class="surprise-btn" id="addMessage" style="background: linear-gradient(to right, #9f6bff, #b388ff);">Add Your Message</button>
            </div>

            <div class="messages-container" style="margin-top: 2rem;">
                <!-- Message cards will be added here -->
                <div class="message-card" style="background: white; border-radius: 12px; padding: 20px; margin-bottom: 20px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); position: relative; border-left: 4px solid #9f6bff;">
                    <div style="display: flex; align-items: center; margin-bottom: 10px;">
                        <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #9f6bff, #b388ff); border-radius: 50%; display: flex; justify-content: center; align-items: center; color: white; font-weight: bold; font-size: 1.5rem; margin-right: 15px;">V</div>
                        <div>
                            <h3 style="margin: 0; color: #333;">Varsha</h3>
                            <small style="color: #999;">2 hours ago</small>
                        </div>
                    </div>
                    <p style="margin: 0; font-size: 1.1rem; line-height: 1.5; color: #333;">Happy Birthday Pallavi! 🎉 Wishing you a year filled with happiness, success and lots of love! Let's make this year your best one yet! 💖</p>
                    <div style="margin-top: 10px; font-size: 1.5rem;">🎂🎁✨</div>
                    <div style="position: absolute; bottom: 10px; right: 15px; font-size: 0.8rem; color: #9f6bff;">Sent with love ❤️</div>
                </div>
                
                <div class="message-card" style="background: white; border-radius: 12px; padding: 20px; margin-bottom: 20px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); position: relative; border-left: 4px solid #9f6bff;">
                    <div style="display: flex; align-items: center; margin-bottom: 10px;">
                        <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #9f6bff, #b388ff); border-radius: 50%; display: flex; justify-content: center; align-items: center; color: white; font-weight: bold; font-size: 1.5rem; margin-right: 15px;">S</div>
                        <div>
                            <h3 style="margin: 0; color: #333;">Srujana</h3>
                            <small style="color: #999;">1 hour ago</small>
                        </div>
                    </div>
                    <p style="margin: 0; font-size: 1.1rem; line-height: 1.5; color: #333;">Happy Birthday to my amazing friend! 🥳 May all your dreams come true this year. Can't wait to celebrate with you! 🍰🎈</p>
                    <div style="margin-top: 10px; font-size: 1.5rem;">💐🎉💝</div>
                    <div style="position: absolute; bottom: 10px; right: 15px; font-size: 0.8rem; color: #9f6bff;">Sent with love ❤️</div>
                </div>
                
                <div class="message-card" style="background: white; border-radius: 12px; padding: 20px; margin-bottom: 20px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); position: relative; border-left: 4px solid #9f6bff;">
                    <div style="display: flex; align-items: center; margin-bottom: 10px;">
                        <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #9f6bff, #b388ff); border-radius: 50%; display: flex; justify-content: center; align-items: center; color: white; font-weight: bold; font-size: 1.5rem; margin-right: 15px;">A</div>
                        <div>
                            <h3 style="margin: 0; color: #333;">Ananya</h3>
                            <small style="color: #999;">30 minutes ago</small>
                        </div>
                    </div>
                    <p style="margin: 0; font-size: 1.1rem; line-height: 1.5; color: #333;">Pallavi, you're one of the most wonderful people I know! Wishing you the happiest of birthdays! 🎊 Let's make unforgettable memories this year! 💫</p>
                    <div style="margin-top: 10px; font-size: 1.5rem;">🌟🎂💖</div>
                    <div style="position: absolute; bottom: 10px; right: 15px; font-size: 0.8rem; color: #9f6bff;">Sent with love ❤️</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Voice message audio -->
    <audio id="voiceMessage" src="dialogue2.mp3 (online-audio-converter.com).mp3"></audio>

    <script>
        // Add this to your existing script section
        document.getElementById('addMessage').addEventListener('click', function() {
            const name = prompt("Enter your name:");
            if (name) {
                const message = prompt("Enter your birthday message for Pallavi:");
                if (message) {
                    // Create new message card
                    const initials = name.charAt(0).toUpperCase();
                    const messagesContainer = document.querySelector('.messages-container');
                    
                    const newMessage = document.createElement('div');
                    newMessage.className = 'message-card';
                    newMessage.style = 'background: white; border-radius: 12px; padding: 20px; margin-bottom: 20px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); position: relative; border-left: 4px solid #9f6bff;';
                    
                    newMessage.innerHTML = `
                        <div style="display: flex; align-items: center; margin-bottom: 10px;">
                            <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #9f6bff, #b388ff); border-radius: 50%; display: flex; justify-content: center; align-items: center; color: white; font-weight: bold; font-size: 1.5rem; margin-right: 15px;">${initials}</div>
                            <div>
                                <h3 style="margin: 0; color: #333;">${name}</h3>
                                <small style="color: #999;">just now</small>
                            </div>
                        </div>
                        <p style="margin: 0; font-size: 1.1rem; line-height: 1.5; color: #333;">${message}</p>
                        <div style="margin-top: 10px; font-size: 1.5rem;">🎉🎁💝</div>
                        <div style="position: absolute; bottom: 10px; right: 15px; font-size: 0.8rem; color: #9f6bff;">Sent with love ❤️</div>
                    `;
                    
                    // Add to top of messages
                    messagesContainer.insertBefore(newMessage, messagesContainer.firstChild);
                    
                    // Add confetti effect
                    createConfetti();
                }
            }
        });
        // Create sparkles on mouse move
        document.addEventListener('mousemove', function(e) {
            createSparkle(e.clientX, e.clientY);
        });

        function createSparkle(x, y) {
            // Randomly decide between star or comet
            const types = ['star-sparkle', 'comet-sparkle'];
            const type = types[Math.floor(Math.random() * types.length)];
            
            // Create sparkle element
            const sparkle = document.createElement('div');
            sparkle.className = `magic-sparkle ${type}`;
            
            // Random position offset
            const offsetX = (Math.random() - 0.5) * 100;
            const offsetY = (Math.random() - 0.5) * 100;
            
            // Set position
            sparkle.style.left = `${x}px`;
            sparkle.style.top = `${y}px`;
            
            // Set animation variables
            sparkle.style.setProperty('--tx', `${offsetX}px`);
            sparkle.style.setProperty('--ty', `${offsetY}px`);
            
            // Add to body
            document.body.appendChild(sparkle);
            
            // Remove after animation
            setTimeout(() => {
                sparkle.remove();
            }, 2000);
        }

        // Create random confetti at top of page
        function createConfetti() {
            const colors = ['#9f6bff', '#b388ff', '#e2b0ff', '#ffffff', '#FFD700'];
            const container = document.getElementById('confetti-container');
            
            for (let i = 0; i < 30; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                
                // Random properties
                const size = Math.random() * 10 + 5;
                const color = colors[Math.floor(Math.random() * colors.length)];
                const left = Math.random() * window.innerWidth;
                const animationDuration = Math.random() * 3 + 2;
                const animationDelay = Math.random() * 5;
                
                // Apply styles
                confetti.style.width = `${size}px`;
                confetti.style.height = `${size}px`;
                confetti.style.backgroundColor = color;
                confetti.style.left = `${left}px`;
                confetti.style.top = '0';
                confetti.style.animationDuration = `${animationDuration}s`;
                confetti.style.animationDelay = `${animationDelay}s`;
                
                // Add to container
                container.appendChild(confetti);
                
                // Remove after animation
                setTimeout(() => {
                    confetti.remove();
                }, animationDuration * 1000);
            }
        }

        // Music player
        const musicToggle = document.getElementById('musicToggle');
        const birthdaySong = document.getElementById('birthdaySong');
        
        // Auto-play music (with user interaction)
        document.addEventListener('click', function initMusic() {
            birthdaySong.play().catch(e => console.log('Auto-play prevented'));
            musicToggle.textContent = 'Pause Music 🎵';
            document.removeEventListener('click', initMusic);
        }, { once: true });
        
        musicToggle.addEventListener('click', function() {
            if (birthdaySong.paused) {
                birthdaySong.play();
                musicToggle.textContent = 'Pause Music 🎵';
            } else {
                birthdaySong.pause();
                musicToggle.textContent = 'Play Music 🎵';
            }
        });

        // Photo gallery with voice message
        const showGallery = document.getElementById('showGallery');
        const photoGallery = document.getElementById('photoGallery');
        const voiceMessage = document.getElementById('voiceMessage');
        const voiceControls = document.getElementById('voiceControls');
        const stopVoice = document.getElementById('stopVoice');
        
        showGallery.addEventListener('click', function() {
            photoGallery.classList.add('active');
            showGallery.textContent = 'More Surprises! 🎊';
            createConfetti();
            
            // Play voice message
            voiceMessage.play();
            voiceControls.style.display = 'block';
        });

        stopVoice.addEventListener('click', function() {
            voiceMessage.pause();
            voiceControls.style.display = 'none';
        });

        // Gift game - Improved version
        const startGame = document.getElementById('startGame');
        const checkKey = document.getElementById('checkKey');
        const gameKey = document.getElementById('gameKey');
        const gameMessage = document.getElementById('gameMessage');
        const gameQuestion = document.getElementById('gameQuestion');
        const gifts = document.querySelectorAll('.gift-box');
        
        let correctKey = '';
        let gameStarted = false;
        
        // Personalized questions
        const challenges = [
            { question: "What is your favorite color?", answer: "lavender" },
            { question: "Are you still a teen?", answer: "no" },
            { question: "Who's your best friend?", answer: "srujana" },
            { question: "Who's your roomie?", answer: "samyuktha" },
            { question: "What is your funny nickname?", answer: "pallu" }
        ];
        
        startGame.addEventListener('click', function() {
            if (!gameStarted) {
                gameStarted = true;
                startGame.textContent = 'Restart Game';
                
                // Select a random challenge
                const challenge = challenges[Math.floor(Math.random() * challenges.length)];
                
                // Display the challenge
                gameQuestion.textContent = challenge.question;
                gameQuestion.style.display = 'block';
                checkKey.style.display = 'inline-block';
                
                // Store the correct answer
                correctKey = challenge.answer.toLowerCase();
            } else {
                // Reset the game
                gameMessage.textContent = 'Game restarted! Click "Start Game" to play again.';
                gameQuestion.style.display = 'none';
                checkKey.style.display = 'none';
                gameStarted = false;
                startGame.textContent = 'Start Game';
                
                // Re-lock all gifts
                gifts.forEach(gift => {
                    gift.classList.add('locked');
                    gift.classList.remove('open');
                });
            }
        });
        
        checkKey.addEventListener('click', function() {
            if (!gameStarted) return;
            
            const userAnswer = prompt('Enter your answer(In lowercase):')?.toLowerCase();
            
            if (userAnswer === correctKey) {
                gameMessage.textContent = 'Correct! Here is your unlock key:';
                gameKey.textContent = "🗝️"; // Display the unlock key
                gameKey.style.display = 'block';
                
                // Unlock all gifts
                gifts.forEach(gift => {
                    gift.classList.remove('locked');
                });
                
                createConfetti();
                checkKey.style.display = 'none';
            } else {
                gameMessage.textContent = 'Oops! Wrong answer. Try again!';
            }
        });

        // Open gifts
        gifts.forEach(gift => {
            gift.addEventListener('click', function() {
                if (!this.classList.contains('locked')) {
                    this.classList.toggle('open');
                    
                    if (this.classList.contains('open')) {
                        createConfetti();
                    }
                } else {
                    gameMessage.textContent = 'You need to solve the challenge first!';
                }
            });
        });

        // Wish granted message
        const wishGranted = document.getElementById('wishGranted');
        const closeWish = document.getElementById('closeWish');
        let candlesBlown = 0;
        
        closeWish.addEventListener('click', function() {
            wishGranted.classList.remove('show');
        });

        // Blow out candles effect
        const flames = document.querySelectorAll('.flame');
        flames.forEach(flame => {
            flame.addEventListener('click', function() {
                this.style.animation = 'none';
                this.style.transform = 'translateX(-50%) scale(0)';
                setTimeout(() => {
                    this.style.display = 'none';
                }, 300);
                
                // Count blown candles
                candlesBlown++;
                
                // Show wish granted message after all candles are blown
                if (candlesBlown === flames.length) {
                    setTimeout(() => {
                        wishGranted.classList.add('show');
                        createConfetti();
                    }, 1000);
                }
            });
        });
    </script>
</body>
</html>